(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{110:function(s,t,a){"use strict";a.r(t);var e=a(0),n=function(s){var t,a,e,n=(e="post",(t={}).internal=a=void 0,t.contentType="markdown",t.slug="20190920-Git-stash",t.content=a,t.title="Git-stash",t.layout=e,t.markdownHeadings=[{text:"背景",slug:"背景",level:2},{text:"作用",slug:"作用",level:2},{text:"使用",slug:"使用",level:2}],t.excerpt="<p>我们目前在做的项目, 采用的是快速迭代的方式, 开发和测试和用户测试和改bug并行, 经常要切分支.</p>\n",t.createdAt=new Date(15689376e5),t.updatedAt=new Date(1569233200550),t.type=e,t.permalink="/posts/20190920-Git-stash.html",t.assets={},t.attributes=t,t.prevPost={title:"Vue面试题",permalink:"/posts/20190823-Vue面试题.html"},t.nextPost={title:"事件委托代理",permalink:"/posts/20190922-事件委托代理.html"},t),p=s.options.beforeCreate||[];s.options.beforeCreate=[function(){this.$page=n}].concat(p);["layout","transition"].forEach((function(t){var a=s.options.PageComponent;a&&(s.options[t]=a[t]),void 0===s.options[t]&&(s.options[t]=n[t])})),s.options.name="page-wrapper-"+n.slug.replace(/[^0-9a-z\-]/i,"-")},p=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("layout-manager",[a("h2",{attrs:{id:"背景"}},[s._v("背景")]),s._v(" "),a("p",[s._v("我们目前在做的项目, 采用的是快速迭代的方式, 开发和测试和用户测试和改bug并行, 经常要切分支.")]),s._v(" "),a("p",[s._v("一个人可能要同时管理以下分支")]),s._v(" "),a("ul",[a("li",[s._v("dev => 开发分支")]),s._v(" "),a("li",[s._v("sit => 测试人员测试的的分支")]),s._v(" "),a("li",[s._v("uat => 用户测试的分支")]),s._v(" "),a("li",[s._v("hot-fix-xxx => 生产问题修复的分支")]),s._v(" "),a("li",[s._v("930 => 截止日期为 9月30日 要上线的功能的分支")]),s._v(" "),a("li",[s._v("1030 => 截止日期为 10月30日 要上线功能的分支")]),s._v(" "),a("li",[s._v("...")])]),s._v(" "),a("p",[s._v("并且分支切的很勤, 因为经常生产问题当天要解决并发版, 有的bug在特定的环境才能重现, 不切分支过去看不行 ......")]),s._v(" "),a("p",[s._v("所以经常用到 "),a("em",[s._v("stash")]),s._v(" 命令, 遂系统的查询了一下 "),a("em",[s._v("stash")]),s._v(" 的使用")]),s._v(" "),a("h2",{attrs:{id:"作用"}},[s._v("作用")]),s._v(" "),a("p",[s._v("存放；贮藏")]),s._v(" "),a("h2",{attrs:{id:"使用"}},[s._v("使用")]),s._v(" "),a("blockquote",[a("p",[s._v("常用")])]),s._v(" "),a("div",{pre:!0,attrs:{class:"saber-highlight","data-lang":"shell"}},[a("pre",{pre:!0,attrs:{class:"saber-highlight-code language-shell"}},[a("code",{pre:!0,attrs:{class:"language-shell"}},[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" stash save "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"save message"')]),s._v("\n// 执行存储时, 添加备注, 方便查找, 只有git stash 也要可以的, 但查找时不方便识别")])])]),a("p",[s._v("注意  没有在git 版本控制中的文件，是不能被git stash 存起来的\n很明显，先执行下git add 加到git版本控制中，然后再git stash就可以了")]),s._v(" "),a("p",[s._v("但是：git add 只是把文件加到git 版本控制里，并不等于就被stash起来了，git add和git stash 没有必然的关系，但是执行git stash 能正确存储的前提是文件必须在git 版本控制中才行。")]),s._v(" "),a("hr"),s._v(" "),a("blockquote",[a("p",[s._v("list")])]),s._v(" "),a("div",{pre:!0,attrs:{class:"saber-highlight","data-lang":"shell"}},[a("pre",{pre:!0,attrs:{class:"saber-highlight-code language-shell"}},[a("code",{pre:!0,attrs:{class:"language-shell"}},[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" stash list\n// 查看stash了哪些存储\n// stash@"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(": On _1030/expense-ecc: just "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" stash\n// stash@"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(": WIP on _1030/expense-ec: d621525d fix: bug fixed\n// stash@"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(": WIP on _1030/expense-ec: 8bebefb0 fix: bug fixed\n// stash@"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(": WIP on _1030/expense-ec: ab7180a2 fix: bug fixed")])])]),a("hr"),s._v(" "),a("blockquote",[a("p",[s._v("show")])]),s._v(" "),a("div",{pre:!0,attrs:{class:"saber-highlight","data-lang":"shell"}},[a("pre",{pre:!0,attrs:{class:"saber-highlight-code language-shell"}},[a("code",{pre:!0,attrs:{class:"language-shell"}},[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" stash show\n// 显示做了哪些改动, 默认show第一个存储,如果要显示其他存贮, 后面加stash@"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$num")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n// 比如第二个 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" stash show stash@"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" stash show -p\n// 显示第一个存储的改动"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("改动的详情"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n// 如果想显示其他存存储\n// eg. "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" stash show -p stash@"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$num")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$num")]),s._v("为第几个存储")])])]),a("hr"),s._v(" "),a("blockquote",[a("p",[s._v("apply")])]),s._v(" "),a("div",{pre:!0,attrs:{class:"saber-highlight","data-lang":"shell"}},[a("pre",{pre:!0,attrs:{class:"saber-highlight-code language-shell"}},[a("code",{pre:!0,attrs:{class:"language-shell"}},[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" stash apply\n// 应用某个存储, 但不会把存储从存储列表中删除看, 默认使用第一个存储, 即stash@"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n// 如果要使用其他存储\n// eg. "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" stash apply stash@"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$num")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$num")]),s._v("为第几个存储")])])]),a("hr"),s._v(" "),a("blockquote",[a("p",[s._v("pop")])]),s._v(" "),a("div",{pre:!0,attrs:{class:"saber-highlight","data-lang":"shell"}},[a("pre",{pre:!0,attrs:{class:"saber-highlight-code language-shell"}},[a("code",{pre:!0,attrs:{class:"language-shell"}},[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" stash pop\n// 命令恢复之前缓存的工作目录，将缓存堆栈中的对应stash删除，并将对应修改应用到当前的工作目录下, 默认为第一个stash, 即stash@"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("，\n// 如果要应用并删除其他stash\n// eg. "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" stash pop stash@"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$num")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$num")]),s._v("为第几个存储")])])]),a("hr"),s._v(" "),a("blockquote",[a("p",[s._v("drop")])]),s._v(" "),a("div",{pre:!0,attrs:{class:"saber-highlight","data-lang":"shell"}},[a("pre",{pre:!0,attrs:{class:"saber-highlight-code language-shell"}},[a("code",{pre:!0,attrs:{class:"language-shell"}},[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" stash drop stash@"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$num")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n// 丢弃stash@"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$num")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("存储，从列表中删除这个存储")])])]),a("hr"),s._v(" "),a("blockquote",[a("p",[s._v("clear")])]),s._v(" "),a("div",{pre:!0,attrs:{class:"saber-highlight","data-lang":"shell"}},[a("pre",{pre:!0,attrs:{class:"saber-highlight-code language-shell"}},[a("code",{pre:!0,attrs:{class:"language-shell"}},[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" stash "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("clear")]),s._v("\n// 删除所有缓存的stash")])])])])}),[],!1,null,null,null);"function"==typeof n&&n(p);t.default=p.exports}}]);